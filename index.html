<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAJIRI: The Wagyu Genesis</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap');

        body {
            background-color: #050505;
            color: white;
            font-family: 'Courier Prime', monospace;
            overflow: hidden;
            user-select: none;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-120px) scale(1.5) rotate(10deg); opacity: 0; }
        }

        /* ÈÄöÂ∏∏ÊôÇ„ÅÆÂëºÂê∏„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes breathe-img {
            0% { transform: scale(1); filter: brightness(1) drop-shadow(0 0 10px rgba(0, 255, 255, 0.3)); }
            50% { transform: scale(1.03); filter: brightness(1.2) drop-shadow(0 0 30px rgba(0, 255, 255, 0.6)); }
            100% { transform: scale(1); filter: brightness(1) drop-shadow(0 0 10px rgba(0, 255, 255, 0.3)); }
        }

        /* „Éï„Ç£„Éº„Éê„ÉºÊôÇ„ÅÆÊøÄ„Åó„ÅÑ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes fever-pulse {
            0% { transform: scale(1); filter: sepia(100%) saturate(500%) hue-rotate(320deg) drop-shadow(0 0 20px gold); }
            50% { transform: scale(1.05); filter: sepia(100%) saturate(500%) hue-rotate(320deg) brightness(1.5) drop-shadow(0 0 50px red); }
            100% { transform: scale(1); filter: sepia(100%) saturate(500%) hue-rotate(320deg) drop-shadow(0 0 20px gold); }
        }

        /* „Ç¥„Éº„É´„Éá„É≥Áî∞Â∞ªÂè∑„ÅÆÁßªÂãï„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes golden-run {
            0% { transform: translateX(-100vw) translateY(0) rotate(-5deg) scale(0.8); }
            50% { transform: translateX(50vw) translateY(-50px) rotate(5deg) scale(1.2); }
            100% { transform: translateX(100vw) translateY(0) rotate(-5deg) scale(0.8); }
        }

        .particle {
            position: fixed;
            pointer-events: none;
            color: #00ffff;
            font-weight: 900;
            font-size: 2rem;
            animation: floatUp 0.6s ease-out forwards;
            z-index: 9999;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
            -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);
        }

        .tajiri-content {
            cursor: pointer;
            transition: transform 0.05s, filter 0.05s;
        }
        
        .tajiri-content:active {
            transform: scale(0.92) !important;
        }

        .tajiri-img-normal { animation: breathe-img 3s infinite ease-in-out; }
        .tajiri-img-fever { animation: fever-pulse 0.5s infinite ease-in-out; }

        /* „Ç¥„Éº„É´„Éá„É≥Áî∞Â∞ªÂè∑„ÇØ„É©„Çπ */
        .golden-bull {
            position: absolute;
            z-index: 9999;
            cursor: pointer;
            filter: sepia(100%) saturate(1000%) brightness(1.2) drop-shadow(0 0 20px #FFD700);
            animation: golden-run 4s linear forwards; /* 4Áßí„ÅßÈßÜ„ÅëÊäú„Åë„Çã */
        }
        .golden-bull:hover {
            filter: sepia(100%) saturate(1000%) brightness(1.5) drop-shadow(0 0 40px #FFD700);
        }

        /* „Éï„Ç£„Éº„Éê„Éº‰∏≠„ÅÆËÉåÊôØ„Éú„Éº„ÉÄ„Éº */
        .fever-border {
            box-shadow: inset 0 0 50px #FFD700, 0 0 20px #FFD700;
            border: 2px solid #FFD700;
        }

        .shop-scroll::-webkit-scrollbar { width: 6px; }
        .shop-scroll::-webkit-scrollbar-track { background: #111; }
        .shop-scroll::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const UPGRADES = [
            { id: 1, name: "Âú∞ÂÖÉ„ÅÆÁπÅÊÆñËæ≤ÂÆ∂", baseCost: 15, rate: 0.5, desc: "ËøëÊâÄ„ÅÆËæ≤ÂÆ∂„Å´„ÅäÈ°ò„ÅÑ„Åó„Å¶ÁîüÁî£„ÇíÊâã‰ºù„Å£„Å¶„ÇÇ„Çâ„ÅÜ„ÄÇ", icon: "üë®‚Äçüåæ" },
            { id: 2, name: "ÂÑ™ËâØÈõåÁâõ„ÅÆÂ∞éÂÖ•", baseCost: 100, rate: 5, desc: "Áî∞Â∞ªÂè∑„ÅÆ„ÅäÂ´Å„Åï„ÇìÂÄôË£ú„ÄÇ„Åì„Åì„Åã„Çâ‰ºùË™¨„ÅåÂßã„Åæ„Çã„ÄÇ", icon: "üêÑ" },
            { id: 3, name: "‰∫∫Â∑•ÊéàÁ≤æÊäÄË°ì", baseCost: 1100, rate: 30, desc: "Êò≠Âíå‰∏≠Êúü„ÅÆÈù©ÂëΩ„ÄÇ‰∏ÄÊ∞ó„Å´ÁîüÁî£ÂäπÁéá„ÅåË∑≥„Å≠‰∏ä„Åå„Çã„ÄÇ", icon: "üß¨" },
            { id: 4, name: "ÂáçÁµêÁ≤æÊ∂≤„Çπ„Éà„ÉÉ„ÇØ", baseCost: 12000, rate: 150, desc: "ÂÖ®ÂõΩ„Å∏ÈÖçÈÄÅÂèØËÉΩ„Å´„ÄÇÂíåÁâõ„ÅÆÂÖ®ÂõΩÂà∂Ë¶á„ÄÇ", icon: "‚ùÑÔ∏è" },
            { id: 5, name: "ÂíåÁâõ„Éê„Ç§„Ç™„É©„Éú", baseCost: 130000, rate: 800, desc: "ÁßëÂ≠¶„ÅÆÂäõ„ÅßÊúÄÈ´òÁ¥ö„ÅÆDNA„ÇíËß£Êûê„ÄÇ", icon: "üî¨" },
            { id: 6, name: "$WAGYU „É≠„Ç±„ÉÉ„Éà", baseCost: 1000000, rate: 5000, desc: "ÂíåÁâõ„ÇíÊúà„Å∏„ÄÇTo The Moon!", icon: "üöÄ" },
        ];

        // ‚òÖÁîªÂÉè„ÅÆ„Éï„Ç°„Ç§„É´ÂêçÔºàÂ§âÊõ¥„Åå„ÅÇ„Çå„Å∞„Åì„Åì„Çí‰øÆÊ≠£Ôºâ
        const TAJIRI_IMAGE_URL = "image_7.png"; 

        const App = () => {
            const [calves, setCalves] = useState(() => {
                const saved = localStorage.getItem('wagyu_calves');
                return saved ? parseFloat(saved) : 0;
            });
            
            const [ownedUpgrades, setOwnedUpgrades] = useState(() => {
                const saved = localStorage.getItem('wagyu_upgrades');
                return saved ? JSON.parse(saved) : {};
            });

            // „Éï„Ç£„Éº„Éê„Éº„É¢„Éº„ÉâÈñ¢ÈÄ£„ÅÆÁä∂ÊÖã
            const [feverEndTime, setFeverEndTime] = useState(0);
            const [isFever, setIsFever] = useState(false);
            const [goldenBull, setGoldenBull] = useState(null); // { id, top }

            const [imgError, setImgError] = useState(false);
            const [cps, setCps] = useState(0);
            const [particles, setParticles] = useState([]);
            const [showSaveMsg, setShowSaveMsg] = useState(false);

            // „Éï„Ç£„Éº„Éê„ÉºÂà§ÂÆöÔºàÊÆã„ÇäÊôÇÈñì„ÅÆÁÆ°ÁêÜÔºâ
            useEffect(() => {
                const checkFever = setInterval(() => {
                    const now = Date.now();
                    if (feverEndTime > now) {
                        setIsFever(true);
                    } else {
                        setIsFever(false);
                    }
                }, 100);
                return () => clearInterval(checkFever);
            }, [feverEndTime]);

            // CpSË®àÁÆóÔºà„Éï„Ç£„Éº„Éê„ÉºÊôÇ„ÅØ7ÂÄçÔºÅÔºâ
            useEffect(() => {
                let totalCps = 0;
                UPGRADES.forEach(item => {
                    const count = ownedUpgrades[item.id] || 0;
                    totalCps += item.rate * count;
                });
                
                // „Éï„Ç£„Éº„Éê„Éº„Éú„Éº„Éä„ÇπÈÅ©Áî®
                if (isFever) {
                    totalCps *= 7;
                }
                
                setCps(totalCps);
            }, [ownedUpgrades, isFever]);

            // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏‰øùÂ≠ò
            useEffect(() => {
                localStorage.setItem('wagyu_calves', calves);
                localStorage.setItem('wagyu_upgrades', JSON.stringify(ownedUpgrades));
            }, [calves, ownedUpgrades]);

            const handleManualSave = () => {
                localStorage.setItem('wagyu_calves', calves);
                localStorage.setItem('wagyu_upgrades', JSON.stringify(ownedUpgrades));
                setShowSaveMsg(true);
                setTimeout(() => setShowSaveMsg(false), 2000);
            };

            const handleReset = () => {
                if(confirm("Êú¨ÂΩì„Å´ÁâßÂ†¥„Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü")) {
                    localStorage.removeItem('wagyu_calves');
                    localStorage.removeItem('wagyu_upgrades');
                    window.location.reload();
                }
            };

            const handleShare = () => {
                const text = `‰ºùË™¨„ÅÆÁ®ÆÁâõ„ÄåÁî∞Â∞ªÂè∑„Äç„Å®ÂÖ±„Å´„Äê${Math.floor(calves).toLocaleString()}È†≠„Äë„ÅÆÂíåÁâõÂ∏ùÂõΩ„ÇíÁØâ„Åç„Åæ„Åó„ÅüÔºÅüêÇ‚ö°Ô∏è\n\n$WAGYU #WagyuCoin #Solana #BREED`;
                const url = "https://wagyu-coin.com/game"; 
                const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                window.open(twitterUrl, '_blank');
            };

            // Ëá™ÂãïÁîüÁî£„É´„Éº„Éó
            useEffect(() => {
                if (cps === 0) return;
                const interval = setInterval(() => {
                    setCalves(prev => prev + (cps / 10));
                }, 100);
                return () => clearInterval(interval);
            }, [cps]);

            // „Çø„Ç§„Éà„É´Êõ¥Êñ∞
            useEffect(() => {
                document.title = `${Math.floor(calves).toLocaleString()} È†≠ - TAJIRI`;
            }, [calves]);

            // „Ç¥„Éº„É´„Éá„É≥Áî∞Â∞ªÂè∑„ÅÆÂá∫Áèæ„É≠„Ç∏„ÉÉ„ÇØ
            useEffect(() => {
                // 20Áßí„Äú40Áßí„Å´1ÂõûÂá∫Áèæ„Åô„Çã„É©„É≥„ÉÄ„É†„Çø„Ç§„Éû„Éº
                const scheduleNextBull = () => {
                    const delay = Math.random() * 20000 + 20000; 
                    // „ÉÜ„Çπ„ÉàÁî®: „Åô„ÅêË¶ã„Åü„ÅÑÂ†¥Âêà„ÅØ„Åì„Åì„Çí 5000 (5Áßí) „Å®„Åã„Å´„Åô„Çã
                    
                    return setTimeout(() => {
                        const topPos = Math.random() * 60 + 10; // ÁîªÈù¢„ÅÆ‰∏äÈÉ®10%„Äú70%„ÅÆ‰ΩçÁΩÆ
                        setGoldenBull({ id: Date.now(), top: topPos });
                        
                        // 4ÁßíÂæåÔºà„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÁµÇ‰∫ÜÂæåÔºâ„Å´Ê∂à„Åô
                        setTimeout(() => {
                            setGoldenBull(prev => (prev && prev.id < Date.now() - 3000 ? null : prev));
                        }, 4000);

                        // Ê¨°„ÅÆÂá∫Áèæ„Çí‰∫àÁ¥Ñ
                        scheduleNextBull();
                    }, delay);
                };

                const timerId = scheduleNextBull();
                return () => clearTimeout(timerId);
            }, []);

            // „Ç¥„Éº„É´„Éá„É≥Áî∞Â∞ªÂè∑„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„ÅüÊôÇ
            const handleGoldenClick = (e) => {
                e.stopPropagation(); // ËÉåÊôØ„ÇØ„É™„ÉÉ„ÇØ„ÇíÈò≤Ê≠¢
                setGoldenBull(null); // Áâõ„ÇíÊ∂à„Åô
                
                // „Éï„Ç£„Éº„Éê„ÉºÈñãÂßãÔºà15ÁßíÔºâ
                const now = Date.now();
                const newEndTime = Math.max(feverEndTime, now) + 15000;
                setFeverEndTime(newEndTime);
                
                // Ê¥æÊâã„Å™ÊºîÂá∫
                spawnParticle(window.innerWidth / 2, window.innerHeight / 2, "üî• FEVER TIME! x7 üî•");
                spawnParticle(window.innerWidth / 2, window.innerHeight / 3, "GOLDEN BULL CAUGHT!");
            };


            const handleClick = (e) => {
                // „Éï„Ç£„Éº„Éê„Éº‰∏≠„ÅØ„ÇØ„É™„ÉÉ„ÇØÂäπÊûú„ÇÇ7ÂÄç
                const clickValue = isFever ? 7 : 1;
                setCalves(prev => prev + clickValue);
                
                const text = isFever ? `+${clickValue} FEVER!!` : "+1 CYBER CALF";
                spawnParticle(e.clientX, e.clientY, text);
            };

            const spawnParticle = (x, y, text) => {
                const id = Date.now() + Math.random();
                setParticles(prev => [...prev, { id, x, y, text }]);
                setTimeout(() => setParticles(prev => prev.filter(p => p.id !== id)), 600);
            };

            const buyUpgrade = (upgrade) => {
                const count = ownedUpgrades[upgrade.id] || 0;
                const currentCost = Math.floor(upgrade.baseCost * Math.pow(1.15, count));

                if (calves >= currentCost) {
                    const newCalves = calves - currentCost;
                    const newUpgrades = {
                        ...ownedUpgrades,
                        [upgrade.id]: count + 1
                    };
                    setCalves(newCalves);
                    setOwnedUpgrades(newUpgrades);
                    // CpS„ÅØuseEffect„ÅßËá™ÂãïÂÜçË®àÁÆó„Åï„Çå„Çã
                    spawnParticle(window.innerWidth / 2, window.innerHeight / 2, "UPGRADE ACQUIRED!");
                }
            };

            const getCost = (upgrade) => {
                const count = ownedUpgrades[upgrade.id] || 0;
                return Math.floor(upgrade.baseCost * Math.pow(1.15, count));
            };

            return (
                <div className={`flex flex-col md:flex-row h-screen w-full bg-black text-white overflow-hidden font-sans transition-all duration-300 ${isFever ? 'fever-border' : ''}`}>
                    
                    {/* „Ç¥„Éº„É´„Éá„É≥Áî∞Â∞ªÂè∑ (Âá∫ÁèæÊôÇ„ÅÆ„Åø„É¨„É≥„ÉÄ„É™„É≥„Ç∞) */}
                    {goldenBull && (
                        <div 
                            className="golden-bull"
                            style={{ top: `${goldenBull.top}%` }}
                            onClick={handleGoldenClick}
                        >
                            {/* Êó¢Â≠ò„ÅÆÁîªÂÉè„Çí‰Ωø„ÅÑÂõû„Åó„Å§„Å§„ÄÅCSS„ÅßÈáëËâ≤„Å´„Åô„Çã */}
                            <img src={TAJIRI_IMAGE_URL} width="150" alt="GOLDEN BULL" onError={(e) => e.target.style.display='none'} />
                            <div className="text-4xl absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-100">üí∞</div>
                        </div>
                    )}

                    {/* Â∑¶ÂÅ¥Ôºö„É°„Ç§„É≥„Ç≤„Éº„É†„Ç®„É™„Ç¢ */}
                    <div className="flex-1 flex flex-col items-center justify-center relative p-6 bg-neutral-900">
                        
                        {/* ËÉåÊôØ: „ÉÄ„Éº„ÇØ„Å™„Ç´„Éº„Éú„É≥Ë™ø + „Éç„Ç™„É≥„ÅÆÂÖâÊºè„Çå */}
                        <div className="absolute inset-0 opacity-30 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"></div>
                        <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,_#222_0%,_#000_80%)] opacity-90 pointer-events-none"></div>
                        <div className={`absolute bottom-0 left-1/2 -translate-x-1/2 w-[80%] h-[40%] blur-[120px] pointer-events-none transition-colors duration-500 ${isFever ? 'bg-yellow-500/40' : 'bg-cyan-500/20'}`}></div>

                        {/* „Éò„ÉÉ„ÉÄ„Éº */}
                        <div className="absolute top-6 w-full flex justify-between px-8 z-30">
                            <div>
                                <h1 className="text-3xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-[0_0_15px_rgba(0,255,255,0.5)]">
                                    <span className={`text-transparent bg-clip-text bg-gradient-to-r ${isFever ? 'from-yellow-300 to-red-500' : 'from-cyan-400 to-purple-500'}`}>
                                        {isFever ? "FEVER" : "CYBER"}
                                    </span> TAJIRI
                                </h1>
                            </div>
                            <div className="flex gap-2">
                                <button onClick={handleReset} className="text-xs text-neutral-600 hover:text-red-500 font-bold uppercase tracking-widest px-2">
                                    Reset
                                </button>
                                <button onClick={handleManualSave} className="text-xs text-cyan-500 hover:text-cyan-300 border border-cyan-900 bg-cyan-900/20 px-3 py-1 rounded font-bold uppercase tracking-widest transition-colors">
                                    {showSaveMsg ? "SAVED!" : "SAVE DATA"}
                                </button>
                            </div>
                        </div>

                        {/* „Çπ„Ç≥„Ç¢ */}
                        <div className="relative z-30 text-center mt-4 mb-2 pointer-events-none">
                            <div className={`text-6xl md:text-8xl font-black text-transparent bg-clip-text drop-shadow-[0_0_10px_rgba(0,255,255,0.3)] ${isFever ? 'bg-gradient-to-b from-yellow-100 to-yellow-600 scale-110 transition-transform' : 'bg-gradient-to-b from-white to-neutral-400'}`}>
                                {Math.floor(calves).toLocaleString()}
                            </div>
                            <div className={`${isFever ? 'text-yellow-400 animate-pulse' : 'text-cyan-400'} text-lg font-bold tracking-[0.3em] uppercase mb-2 drop-shadow-sm`}>
                                {isFever ? "üî• BREEDING FRENZY üî•" : "CYBER WAGYU MINTED"}
                            </div>
                            <div className="inline-block bg-black/60 border border-cyan-900/50 px-4 py-1 rounded-full backdrop-blur-md">
                                <span className={`font-mono font-bold text-lg ${isFever ? 'text-yellow-300' : 'text-cyan-300'}`}>
                                    {cps.toFixed(1)}
                                </span>
                                <span className="text-neutral-500 text-xs ml-2 uppercase">/ Sec {isFever && "(x7 BOOST!)"}</span>
                            </div>
                        </div>

                        {/* Áî∞Â∞ªÂè∑„É°„Ç§„É≥ („ÇØ„É™„ÉÉ„ÇØ„Ç®„É™„Ç¢) */}
                        <div 
                            className="tajiri-content relative group z-20 flex justify-center items-center w-full h-[45vh] md:h-[55vh] max-w-3xl"
                            onClick={handleClick}
                        >
                            {/* ÂæåÂÖâ„Ç®„Éï„Çß„ÇØ„Éà */}
                            <div className={`absolute w-[300px] h-[300px] rounded-full blur-[100px] transition-opacity duration-100 animate-pulse mix-blend-screen ${isFever ? 'bg-yellow-500 opacity-60' : 'bg-cyan-500 opacity-20 group-hover:opacity-40'}`}></div>
                            
                            {/* ÁîªÂÉè */}
                            {TAJIRI_IMAGE_URL && !imgError ? (
                                <img 
                                    src={TAJIRI_IMAGE_URL} 
                                    onError={() => setImgError(true)}
                                    alt="Legendary Tajiri Bull" 
                                    className={`object-contain w-full h-full drop-shadow-[0_0_30px_rgba(0,255,255,0.4)] ${isFever ? 'tajiri-img-fever' : 'tajiri-img-normal'}`}
                                />
                            ) : (
                                <div className="text-[150px] md:text-[220px] leading-none select-none filter drop-shadow-[0_0_30px_rgba(0,255,255,0.5)]">
                                    üêÇ‚ö°Ô∏è
                                </div>
                            )}
                            
                            {/* „ÇØ„É™„ÉÉ„ÇØË™òÂ∞é„ÉÜ„Ç≠„Çπ„Éà */}
                            <div className="absolute bottom-2 md:bottom-4 text-cyan-300 text-sm font-bold tracking-[0.5em] animate-pulse pointer-events-none uppercase drop-shadow-[0_0_5px_rgba(0,255,255,0.8)]">
                                [[ TAP TO BREED ]]
                            </div>
                        </div>

                        {/* „Ç∑„Çß„Ç¢„Éú„Çø„É≥ */}
                        <button 
                            onClick={handleShare}
                            className="absolute bottom-6 md:bottom-10 z-30 bg-black text-white border-2 border-cyan-500 hover:bg-cyan-500 hover:text-black font-black py-3 px-8 rounded-full shadow-[0_0_20px_rgba(0,255,255,0.3)] transform transition hover:scale-105 hover:-rotate-1 flex items-center gap-3 uppercase tracking-widest text-sm md:text-base"
                        >
                            <i className="fa-brands fa-twitter"></i> 
                            Flex on X
                        </button>
                    </div>

                    {/* Âè≥ÂÅ¥Ôºö„Ç∑„Éß„ÉÉ„Éó„Ç®„É™„Ç¢ */}
                    <div className="h-1/3 md:h-full md:w-[420px] bg-black/90 backdrop-blur-xl border-t md:border-t-0 md:border-l border-neutral-800 flex flex-col z-40 shadow-2xl relative">
                        <div className="absolute inset-0 bg-gradient-to-b from-cyan-900/10 to-purple-900/10 pointer-events-none"></div>

                        <div className="p-4 bg-black/80 border-b border-neutral-800 relative z-10">
                            <h2 className="text-xl font-black text-white flex items-center gap-2 uppercase italic tracking-wider">
                                <span className="text-cyan-400 text-2xl drop-shadow-[0_0_10px_rgba(0,255,255,0.5)]">‚ö°</span> Cyber Upgrades
                            </h2>
                        </div>

                        <div className="flex-1 overflow-y-auto shop-scroll p-3 space-y-3 pb-8 relative z-10">
                            {UPGRADES.map(item => {
                                const cost = getCost(item);
                                const canBuy = calves >= cost;
                                
                                return (
                                    <button 
                                        key={item.id}
                                        onClick={() => buyUpgrade(item)}
                                        disabled={!canBuy}
                                        className={`w-full flex items-center p-3 rounded-xl border transition-all duration-100 group text-left relative overflow-hidden backdrop-blur-sm
                                            ${canBuy 
                                                ? 'bg-neutral-900/80 border-neutral-700 hover:bg-neutral-800 hover:border-cyan-400/80 hover:translate-x-1 hover:shadow-[0_0_15px_rgba(0,255,255,0.2)]' 
                                                : 'bg-black/80 border-neutral-800 opacity-40 cursor-not-allowed grayscale'
                                            }
                                        `}
                                    >
                                        <div className="text-3xl mr-4 min-w-[3rem] text-center filter drop-shadow-[0_0_5px_rgba(255,255,255,0.3)]">
                                            {item.icon}
                                        </div>
                                        
                                        <div className="flex-1 z-10">
                                            <div className="flex justify-between items-center mb-1">
                                                <span className="font-bold text-white text-base tracking-wide">{item.name}</span>
                                            </div>
                                            <div className="text-[11px] text-neutral-400 mb-2 leading-tight font-medium">
                                                {item.desc}
                                            </div>
                                            <div className="flex justify-between items-end border-t border-neutral-800/80 pt-2">
                                                <div>
                                                    <div className={`font-mono font-bold text-base leading-none ${canBuy ? 'text-cyan-400 drop-shadow-[0_0_5px_rgba(0,255,255,0.5)]' : 'text-red-500'}`}>
                                                        {cost.toLocaleString()}
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                    <div className="text-xs text-white font-bold">
                                                        +{item.rate}/s <span className="text-neutral-500 ml-1 text-[10px]">Lv.{ownedUpgrades[item.id] || 0}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                );
                            })}
                        </div>
                    </div>

                    {/* „Éë„Éº„ÉÜ„Ç£„ÇØ„É´ */}
                    {particles.map(p => (
                        <div key={p.id} className="particle" style={{ left: p.x, top: p.y }}>
                            {p.text}
                        </div>
                    ))}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>